<<<<<<< HEAD
import React from 'react';
import { Route, Switch } from 'react-router-dom';

=======
/** @fixme @TODO clean this
import React, { useState, Component } from 'react';
import axios from 'axios';
import { Route, Switch, Redirect } from 'react-router-dom';
*/
import React, { useState, useEffect } from 'react';
import { Route, Switch, Redirect } from 'react-router-dom';
>>>>>>> develop
// == Import
import './styles.css';
import 'semantic-ui-css/semantic.min.css';

// == Composants - imports
import Footer from '../Footer';
import Header from '../../containers/Header';
import HomePage from '../HomePage';
import NotFound from '../NotFound';
import ResultPage from '../ResultPage';
import LoginForm from '../../containers/LoginForm';
import SignUpForm from '../../containers/SignUpForm';
import Carnet from "../../containers/Carnet";
import MonVoyage from "../../containers/MonVoyage";
import SearchBar from '../SearchBar';

// == Composant
<<<<<<< HEAD
const App = () => {

=======
const App = ({isLogged, checkAuth}) => {
  const [search, setSearch] = useState('');
  useEffect(() => {
    checkAuth();

  }, []); // eslint-disable-line react-hooks/exhaustive-deps
>>>>>>> develop
  return (
    <div className="app">
      <Header />
      <Switch>

        {/* homepage */}
        <Route exact path="/">
          <SearchBar />
          <HomePage />
        </Route>

        {/* result page */}
        <Route exact path="/result">
          <ResultPage />
        </Route>
<<<<<<< HEAD

        {/* all carnets page */}
        <Route exact path="/carnets">
          <Carnet />
        </Route>

        {/* trip details page */}
        {/* <Route exact path="/mytrip">
          <MonVoyage />
        </Route> */}

        {/* trip details page */}
        <Route exact path="/carnets/:id">
          <MonVoyage />
        </Route>

        {/* login page */}
        <Route exact path="/login" component={LoginForm} />
=======
        <Route exact path="/login">
    { isLogged ? <Redirect to="/" /> : <LoginForm />}
 </Route>
>>>>>>> develop
        <Route exact path="/sign-up">
        { isLogged ? <Redirect to="/" /> : <SignUpForm component={SignUpForm} />}
        
        </Route>

<<<<<<< HEAD
        {/* error page */}
=======
        <Route path="/details" component={() => <Details />} />

        <Route path="/carnet" component={() => <Carnet />} />
        <Route>
          <MonVoyage />
        </Route>
>>>>>>> develop
        <Route>
          <NotFound />
        </Route>

      </Switch>
      <Footer />
    </div>
  );
};
// == Export
export default App;
